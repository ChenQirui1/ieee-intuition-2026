# Environment Variables Configuration

## Database Configuration

### Option 1: MongoDB (Recommended for Railway)
```bash
DATABASE_TYPE=mongodb
MONGODB_URL=mongodb://username:password@host:port/database?retryWrites=true&w=majority
```

**Railway MongoDB Setup:**
1. Add MongoDB service in Railway
2. Copy the connection string from Railway MongoDB service
3. Set `DATABASE_TYPE=mongodb` in your environment variables
4. Set `MONGODB_URL` to your Railway MongoDB connection string (or use `${{MongoDB.MONGO_URL}}`)

### Option 2: Firebase/Firestore
```bash
DATABASE_TYPE=firebase

# Production (Railway) - Use JSON string
FIREBASE_SERVICE_ACCOUNT={"type":"service_account","project_id":"..."}

# Local Development - Use file path
GOOGLE_APPLICATION_CREDENTIALS=/path/to/serviceAccountKey.json

# Or use mock for local testing (no Firebase needed)
USE_MOCK_FIREBASE=true
```

### Option 3: Mock Database (Local Testing)
```bash
DATABASE_TYPE=mock
```

## OpenAI Configuration
```bash
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-3.5-turbo-0125  # Optional, defaults to gpt-3.5-turbo-0125
```

## Example .env Files

### For Railway with MongoDB:
```bash
# Database
DATABASE_TYPE=mongodb
MONGODB_URL=${{MongoDB.MONGO_URL}}

# OpenAI
OPENAI_API_KEY=sk-your-key-here
OPENAI_MODEL=gpt-3.5-turbo-0125
```

### For Local Development with Mock:
```bash
# Database
DATABASE_TYPE=mock

# OpenAI
OPENAI_API_KEY=sk-your-key-here
```

### For Local Development with Firebase:
```bash
# Database
DATABASE_TYPE=firebase
GOOGLE_APPLICATION_CREDENTIALS=./secrets/serviceAccountKey.json

# OpenAI
OPENAI_API_KEY=sk-your-key-here
```

### For Local Development with MongoDB:
```bash
# Database
DATABASE_TYPE=mongodb
MONGODB_URL=mongodb://localhost:27017/clearweb

# OpenAI
OPENAI_API_KEY=sk-your-key-here
```

## Database Type Options

- `mongodb` - Use MongoDB (requires MONGODB_URL)
- `firebase` - Use Firebase/Firestore (requires FIREBASE_SERVICE_ACCOUNT or GOOGLE_APPLICATION_CREDENTIALS)
- `mock` - Use in-memory mock database (no external dependencies, for testing only)

## Notes

- If `DATABASE_TYPE` is not set, it defaults to `firebase`
- MongoDB is recommended for Railway deployments
- Mock database is useful for local testing without external services
- All database implementations follow the same interface, so switching is seamless
